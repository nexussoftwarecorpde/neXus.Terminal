<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nxs Terminal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="terminal"></div> <!-- Terminal Output -->
    <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script> <!-- xterm.js für Terminal -->
    <script src="commands.js"></script> <!-- Deine Befehlslogik -->
    <script>
        // Terminal-Initialisierung
        const term = new Terminal({ theme: { background: '#000000', foreground: '#33FF00' } }); // Schwarz-Grün wie Termux
        term.open(document.getElementById('terminal'));
        let input = '';
        let commandsEnabled = false;
        let isRoot = false;

        const prompt = () => term.write('\n$ ');

        term.write('Willkommen im NXS Terminal\n');
        prompt();

        term.onData(e => {
            if (e === '\r') {
                handleCommand(input);
                input = '';
                prompt();
            } else if (e === '\u007F') {
                if (input.length > 0) {
                    term.write('\b \b');
                    input = input.slice(0, -1);
                }
            } else {
                input += e;
                term.write(e);
            }
        });

        // Übergibt die Befehlsverarbeitung an die separate Datei
        const handleCommand = (cmd) => {
            processCommand(cmd, term, commandsEnabled, isRoot);
        };
    </script>
</body>
</html>
